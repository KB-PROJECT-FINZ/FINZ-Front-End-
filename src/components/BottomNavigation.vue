<template>
  <nav
    class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-[430px] bg-white border-t border-gray-200 flex py-2 z-50"
  >
    <button
      v-for="item in navItems"
      :key="item.name"
      class="flex-1 bg-transparent border-none py-2 px-1 flex flex-col items-center gap-1"
      :class="{
        'text-blue-500': currentRoute === item.route,
        'text-gray-500': currentRoute !== item.route,
      }"
      @click="handleNavClick(item.route)"
    >
      <span class="text-xl">{{ item.icon }}</span>
      <span
        class="text-xs"
        :class="{
          'font-semibold text-blue-500': currentRoute === item.route,
          'text-gray-500': currentRoute !== item.route,
        }"
      >
        {{ item.name }}
      </span>
    </button>
  </nav>
</template>

<script setup>
import { computed } from 'vue'
import { useRouter, useRoute } from 'vue-router'

const router = useRouter()
const route = useRoute()

// í˜„ìž¬ ë¼ìš°íŠ¸ ì´ë¦„ì„ ê°€ì ¸ì˜´
const currentRoute = computed(() => route.name)

// ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ ì •ì˜
const navItems = [
  { name: 'í™ˆ', icon: 'ðŸ ', route: 'home' },
  { name: 'ê±°ëž˜', icon: 'ðŸ“Š', route: 'trading' },
  { name: 'ì°¨íŠ¸', icon: 'ðŸ“ˆ', route: 'chart' },
  { name: 'ë§ˆì´', icon: 'ðŸ‘¤', route: 'profile' },
]

// ë„¤ë¹„ê²Œì´ì…˜ í´ë¦­ í•¸ë“¤ëŸ¬
const handleNavClick = (routeName) => {
  if (routeName !== currentRoute.value) {
    router.push({ name: routeName })
  }
}
</script>
